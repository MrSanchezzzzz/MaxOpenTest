import 'package:flutter_bloc/flutter_bloc.dart';

import '../entities/movie.dart';

class SearchState {
  final List<Movie> data;
  SearchState({required this.data});

  //To update data :
  SearchState copyWith({
    List<Movie>? data,
  }) {
    return SearchState(data: data ?? this.data);
  }
}

//initial state with empty list
class EmptySearchState extends SearchState {
  EmptySearchState() : super(data: []);
}

//General Event class
abstract class SearchEvent {
  SearchEvent();
}
//Search Event
class SearchingEvent extends SearchEvent {
  final List<Movie> data;
  SearchingEvent(this.data);
}

class SearchBloc extends Bloc<SearchEvent, SearchState> {
  SearchBloc() : super(EmptySearchState()) {
    on<SearchingEvent>(
          (event, emit) {
        emit(state.copyWith(data: event.data));
      },
    );
  }
}