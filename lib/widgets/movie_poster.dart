import 'package:flutter/material.dart';
import 'package:cached_network_image/cached_network_image.dart';

class MoviePoster extends StatelessWidget {
  const MoviePoster({super.key,
    required this.width,
    required this.height,
    this.url,
    this.showBookmark = false,
    this.onTap,
    this.isFavorite = false});

  final double height;
  final double width;
  final bool showBookmark;
  final bool isFavorite;
  final Function()? onTap;
  final String? url;

  //NetworkImage(url!,headers:{"Keep-Alive":"timeout=5"}
  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: width,
      height: height,
      child: Container(
        child: Stack(
            children: [
            CachedNetworkImage(
            imageUrl: url!,
            placeholder: (context, _) => Center(child: CircularProgressIndicator()),
            imageBuilder: (context, imageProvider) =>
                Container(
                  decoration: BoxDecoration(
                      image: DecorationImage(image: imageProvider,
                        fit: BoxFit.cover,),
                      color: const Color(0xFF424242),
                  borderRadius: BorderRadius.circular(15),
                )),
      ),
      showBookmark?Positioned(
        top: 8,
        right: 8,
        child: IconButton(
          icon: Icon(isFavorite ? Icons.bookmark : Icons.bookmark_border),
          color: Colors.white,
          onPressed: onTap,
        ),
      ):Container(),
      ],
    )
    ,
    )
    ,
    );
  }
}
